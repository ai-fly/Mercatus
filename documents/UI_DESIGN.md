# Mercatus Content Factory 前端UI设计文档

## 1. 总体设计原则
- 现代化、简洁、易用，突出多智能体协作与任务驱动
- 支持多租户/多团队切换，数据隔离
- 响应式布局，适配桌面与移动端
- 组件化开发，复用性强
- 关注可访问性（a11y）与国际化（i18n）

---

## 2. 页面结构与导航

### 2.1 顶部导航栏（全局Header）
- Logo、系统名称
- 当前用户信息（头像、邮箱、下拉菜单：个人中心、登出）
- 团队切换入口（多租户支持）
- 语言切换（中/英）

### 2.2 侧边栏（Sidebar）
- 团队首页
- 任务管理
- 专家实例
- 团队绩效
- 设置

### 2.3 主内容区（Main Content）
- 随路由切换渲染不同页面

---

## 3. 主要页面与核心交互

### 3.1 登录页
- Google OAuth 登录按钮
- 登录后自动跳转主工作台
- 登录流程：
  1. 前端集成Google OAuth登录按钮，获取id_token
  2. 前端将id_token通过POST发送到`/api/v1/auth/google-login`
  3. 后端验证Google token，若邮箱不存在则自动注册
  4. 后端返回JWT令牌，前端保存并用于后续API请求
- 接口：
  - `POST /api/v1/auth/google-login`，参数：`{ "token": "<Google id_token>" }`
  - 返回：`{ "access_token": "...", "token_type": "bearer", "user_email": "..." }`

### 3.2 主工作台（Dashboard）
- 展示用户所属团队列表（卡片/列表）
- 支持创建新团队（弹窗表单）
- 团队切换入口

### 3.3 团队首页
- 团队基本信息（名称、成员、绩效）
- 专家实例概览（Jeff/Monica/Henry，状态、任务数）
- 近期任务动态

### 3.4 任务管理页
- 任务列表（支持按状态筛选、搜索、分页）
- 新建任务（弹窗/侧边抽屉表单）
- 任务卡片展示任务进度、负责人、优先级、目标平台等
- 任务详情页：
  - 任务基本信息、状态流转、执行日志、依赖关系
  - 支持执行任务、提交用户建议

### 3.5 专家实例页
- 展示团队下所有专家实例（Jeff/Monica/Henry）
- 实例状态、当前任务、性能指标

### 3.6 团队绩效页
- 团队整体绩效指标（任务完成率、平均耗时、专家表现等）
- 可视化图表展示

### 3.7 设置/个人中心
- 用户信息、邮箱、所属团队
- 语言切换、登出

---

## 4. 组件拆分建议
- 通用：按钮、表单、弹窗、通知、Loading、空状态、分页器
- 团队：团队卡片、团队切换器、团队成员列表
- 任务：任务卡片、任务列表、任务详情、任务进度条
- 专家：专家实例卡片、专家状态指示器
- 绩效：指标卡片、图表组件

---

## 5. 响应式与可访问性
- 使用栅格系统和弹性布局，适配不同屏幕
- 组件支持键盘操作、ARIA标签
- 颜色对比度达标，支持深色模式

---

## 6. 与后端API的对应关系
- 登录/认证：`/api/v1/auth/google-login`
- 团队管理：`/api/v1/teams`、`/api/v1/users/{user_id}/teams`、`/api/v1/teams/{team_id}`
- 专家实例：`/api/v1/teams/{team_id}/experts`
- 任务管理：`/api/v1/teams/{team_id}/tasks`、`/api/v1/teams/{team_id}/tasks/{task_id}`、`/api/v1/teams/{team_id}/tasks/{task_id}/execute`
- 用户建议：`/api/v1/teams/{team_id}/planning/user-suggestion`
- 绩效监控：`/api/v1/teams/{team_id}/performance`、`/api/v1/teams/{team_id}/blackboard/state`

---

## 7. 关键UI交互流程

### 7.1 登录
- 用户点击Google登录，完成OAuth授权，获取token，后端校验通过后进入主界面

### 7.2 团队切换
- 用户可在Header或Sidebar切换团队，相关数据自动刷新

### 7.3 任务创建与执行
- 用户填写任务表单，提交后任务列表自动刷新
- 任务详情页可执行任务、查看进度与日志

### 7.4 用户建议
- 任务详情页支持提交建议，触发重新规划

---

## 8. 国际化与未来扩展
- 所有文案、提示、错误信息支持中英文切换
- 预留WebSocket推送、团队成员邀请、权限管理等扩展入口


