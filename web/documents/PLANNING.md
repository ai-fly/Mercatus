# Mercatus Content Factory 前端规划文档

## 目录

1. 项目简介
2. 设计原则
3. 技术栈与依赖
4. 页面结构与导航
5. 主要功能与页面
6. 组件拆分建议
7. 响应式与可访问性
8. 国际化与扩展性
9. 与后端API的对应关系
10. 关键UI交互流程
11. 部署与运维
12. 其他说明

---

## 1. 项目简介

本项目旨在为用户提供一个自动化营销团队，能够自动规划并执行多平台内容营销任务，实现高效的团队协作与任务驱动。

---

## 2. 设计原则

- 现代化、简洁、易用
- 强调多智能体协作与任务驱动
- 支持多租户/多团队切换，数据隔离
- 响应式布局，适配桌面与移动端
- 组件化开发，复用性强
- 关注可访问性（a11y）与国际化（i18n）

---

## 3. 技术栈与依赖

- Next.js 15.4.2
- Tailwind CSS 4.1.2
- shadcn-ui 0.9.5
- TypeScript
- React Query/SWR（数据请求与缓存）
- Jest + React Testing Library（测试）
- ESLint, Prettier, Husky（代码质量）
- Docker（部署）

---

## 4. 页面结构与导航

### 4.1 顶部导航栏（Header）

- Logo、系统名称
- 当前用户信息（头像、邮箱、下拉菜单：个人中心、登出）
- 团队切换入口
- 语言切换（中/英）

### 4.2 侧边栏（Sidebar）

- 团队首页
- 任务管理
- 专家实例
- 团队绩效
- 设置

### 4.3 主内容区（Main Content）

- 随路由切换渲染不同页面

---

## 5. 主要功能与页面

### 5.1 登录页

- Google OAuth 登录
- 登录后自动跳转主工作台
- 登录流程：前端获取 Google id_token，POST 至 `/api/v1/auth/google-login`，后端校验并返回 JWT

### 5.2 主工作台（Dashboard）

- 展示用户所属团队列表
- 支持创建/切换团队

### 5.3 团队首页

- 团队基本信息、成员、绩效
- 专家实例概览
- 近期任务动态

### 5.4 任务管理页

- 任务列表（筛选、搜索、分页）
- 新建任务（弹窗/抽屉表单）
- 任务详情（进度、负责人、日志、依赖、执行、建议）

### 5.5 专家实例页

- 展示团队下所有专家实例
- 实例状态、当前任务、性能指标

### 5.6 团队绩效页

- 团队整体绩效指标
- 可视化图表展示

### 5.7 设置/个人中心

- 用户信息、邮箱、所属团队
- 语言切换、登出

---

## 6. 组件拆分建议

- 通用：按钮、表单、弹窗、通知、Loading、空状态、分页器
- 团队：团队卡片、团队切换器、团队成员列表
- 任务：任务卡片、任务列表、任务详情、任务进度条
- 专家：专家实例卡片、专家状态指示器
- 绩效：指标卡片、图表组件

---

## 7. 响应式与可访问性

- 使用栅格系统和弹性布局
- 支持键盘操作、ARIA标签
- 颜色对比度达标，支持深色模式

---

## 8. 国际化与扩展性

- 所有文案、提示、错误信息支持中英文切换
- 预留 WebSocket 推送、团队成员邀请、权限管理等扩展入口

---

## 9. 与后端API的对应关系

- 登录/认证：`/api/v1/auth/google-login`
- 团队管理：`/api/v1/teams`、`/api/v1/users/{user_id}/teams`、`/api/v1/teams/{team_id}`
- 专家实例：`/api/v1/teams/{team_id}/experts`
- 任务管理：`/api/v1/teams/{team_id}/tasks`、`/api/v1/teams/{team_id}/tasks/{task_id}`、`/api/v1/teams/{team_id}/tasks/{task_id}/execute`
- 用户建议：`/api/v1/teams/{team_id}/planning/user-suggestion`
- 绩效监控：`/api/v1/teams/{team_id}/performance`、`/api/v1/teams/{team_id}/blackboard/state`
- 详细接口文档见 `openapi.json`

---

## 10. 关键UI交互流程

- 登录：Google OAuth，后端校验，进入主界面
- 团队切换：Header/Sidebar 切换，数据自动刷新
- 任务创建与执行：表单提交，列表刷新，详情页执行与日志
- 用户建议：任务详情页提交建议，触发重新规划

---

## 11. 部署与运维

- 使用 Docker 部署
- 推荐使用 CI/CD（如 GitHub Actions、Vercel）自动化测试与部署

---

## 12. 其他说明

- 代码结构、命名、风格等请参考团队规范与 UI_DESIGN.md
- 组件、页面、API 层分离，便于维护和扩展
- 遵循 SOLID 原则，保持代码简洁、可测试、易维护

---